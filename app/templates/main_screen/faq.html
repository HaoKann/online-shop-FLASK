{% extends 'base.html' %}

{% block content %}
<div class="container py-5">
    <div class="text-center mb-5">
        <h1>{{ sub_title }}</h1>
        <p class="lead text-muted">Здесь мы собрали ответы на самые популярные вопросы.</p>
    </div>

    {% if grouped_faqs %}
        {% for category, faqs_in_category in grouped_faqs.items() %}
            <h3 class="faq-category-title">{{ category }}</h3>
            <div class="accordion faq-accordion mb-4" id="accordion-{{ loop.index }}">
                {% for faq in faqs_in_category %}
                    <div class="accordion-item">
                        <h2 class="accordion-header" id="heading-{{ faq.id }}">
                            <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#collapse-{{ faq.id }}">
                                {{ faq.question }}
                            </button>
                        </h2>
                        <div id="collapse-{{ faq.id }}" class="accordion-collapse collapse" data-bs-parent="#accordion-{{ loop.index }}">
                            <div class="accordion-body">
                                {{ faq.answer | safe }}
                            </div>
                        </div>
                    </div>
                {% endfor %}
            </div>
        {% endfor %}
    {% else %}
        <p class="text-center text-muted">Раздел находится в стадии наполнения. Вопросы скоро появятся здесь.</p>
    {% endif %}
</div>
{% endblock %}